"use strict";(self.webpackChunkshkaf=self.webpackChunkshkaf||[]).push([[698],{7252:function(s,e,t){t.r(e),t.d(e,{default:function(){return B}});var r=t(1413),o=t(5671),i=t(3144),n=t(136),a=t(516),l=t(2791),u={banner:"ProfileInfo_banner__RQgMA",descriptionBlock:"ProfileInfo_descriptionBlock__rP9Ds",profilePhoto:"ProfileInfo_profilePhoto__0RCCb",fullName:"ProfileInfo_fullName__wE-yq",lookingForAJob:"ProfileInfo_lookingForAJob__Kpyh9",contacts:"ProfileInfo_contacts__YpTm1",lookingForAJobDescription:"ProfileInfo_lookingForAJobDescription__l0gH7",statusLabel:"ProfileInfo_statusLabel__HBIJ7"},c=t(4751),p=t.p+"static/media/banner-picture.d55c92fa3dd7b1a28758.png",d=t(7808),f=t(9439),h=t(184),x=function(s){var e=(0,l.useState)(!1),t=(0,f.Z)(e,2),r=t[0],o=t[1],i=(0,l.useState)(s.status),n=(0,f.Z)(i,2),a=n[0],c=n[1];(0,l.useEffect)((function(){c(s.status)}),[s.status]);var p=function(){o(!r),s.updateStatus(a)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{className:u.statusLabel,children:"Status: "}),!r&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{onClick:p,children:s.status||"---"})}),r&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(s){c(s.currentTarget.value)},autoFocus:!0,onBlur:p,value:a})})]})},j=function(s){if(!s.profile)return(0,h.jsx)(c.Z,{});return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:u.banner,children:[(0,h.jsx)("img",{alt:"Profile",className:u.banner,src:p}),(0,h.jsxs)("div",{className:u.descriptionBlock,children:[(0,h.jsxs)("div",{className:u.profilePhoto,children:[(0,h.jsx)("img",{alt:"User",src:s.profile.photos.large||d}),s.isOwner&&(0,h.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&s.updatePhoto(e.target.files[0])}})]}),(0,h.jsxs)("div",{className:u.profileInfo,children:[(0,h.jsx)("div",{className:u.fullName,children:s.profile.fullName}),(0,h.jsx)("div",{children:s.profile.aboutMe}),(0,h.jsx)("br",{}),s.profile.lookingForAJob?(0,h.jsxs)("div",{className:u.lookingForAJob,children:["\u041e\u0442\u043a\u0440\u044b\u0442 \u0434\u043b\u044f \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0439",(0,h.jsx)("img",{src:"https://emojio.ru/images/apple-b/2705.png"})]}):s.profile.lookingForAJob?void 0:(0,h.jsxs)("div",{className:u.lookingForAJob,children:["\u0420\u0430\u0431\u043e\u0442\u0430\u044e ",(0,h.jsx)("img",{src:"https://emojis.wiki/emoji-pics/lg/tractor-lg.png"})]}),(0,h.jsx)("div",{className:u.lookingForAJobDescription,children:s.profile.lookingForAJobDescription}),(0,h.jsx)("div",{className:u.contacts,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),(0,h.jsx)("div",{children:s.profile.contacts.facebook}),(0,h.jsx)("div",{children:s.profile.contacts.website}),(0,h.jsx)("div",{children:s.profile.contacts.vk}),(0,h.jsx)("div",{children:s.profile.contacts.twitter}),(0,h.jsx)("div",{children:s.profile.contacts.instagram}),(0,h.jsx)("div",{children:s.profile.contacts.youtube}),(0,h.jsx)("div",{children:s.profile.contacts.github}),(0,h.jsx)("div",{children:s.profile.contacts.mainLink}),s.isOwner?(0,h.jsx)(x,{status:s.status,updateStatus:s.updateStatus}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{className:u.statusLabel,children:"Status: "}),(0,h.jsx)("div",{children:s.status||"---"})]})]})]})]})})},m=t(6070),g="MyPosts_postsBlock__lzSOf",v="Post_item__c53nU",P=function(s){return(0,h.jsxs)("div",{className:v,children:[(0,h.jsx)("img",{src:"https://s5o.ru/storage/simple/ru/edt/aa/db/b0/29/rue97ff35b337.png"}),s.message," ",(0,h.jsx)("br",{}),(0,h.jsx)("span",{children:"Likes"})," ",s.likecount]})},b=t(6139),k=t(704),_=t(5304),N=t(9805),w=(0,_.D)(30),I=(0,N.N)("textarea"),S=function(s){return(0,h.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,h.jsx)(b.Z,{component:I,name:"newPostText",placeholder:"New post will be here",validate:[_.C,w]}),(0,h.jsx)("button",{children:"Add post"})]})};S=(0,k.Z)({form:"post"})(S);var Z=function(s){(0,n.Z)(t,s);var e=(0,a.Z)(t);function t(){var s;(0,o.Z)(this,t);for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(s=e.call.apply(e,[this].concat(i))).addNewPost=function(e){s.props.addPost(e.newPostText)},s}return(0,i.Z)(t,[{key:"render",value:function(){var s=this.props.postsData.map((function(s){return(0,h.jsx)(P,{message:s.message,likecount:s.likesCount},s.id)}));return(0,h.jsxs)("div",{className:g,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsxs)("div",{children:["Write new post ",(0,h.jsx)("br",{}),(0,h.jsx)(S,{onSubmit:this.addNewPost})]}),(0,h.jsx)("div",{children:s})]})}}]),t}(l.PureComponent),A=Z,y=t(8687),F=(0,y.$j)((function(s){return{postsData:s.profilePage.postsData,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(e){s((0,m.Wl)(e))}}}))(A),U=function(s){return(0,h.jsxs)("div",{children:[(0,h.jsx)(j,{isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus,updatePhoto:s.updatePhoto}),(0,h.jsx)(F,{})]})},C=t(7689),D=t(7781),J=function(s){(0,n.Z)(t,s);var e=(0,a.Z)(t);function t(){var s;(0,o.Z)(this,t);for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(s=e.call.apply(e,[this].concat(i))).refreshProfile=function(){var e=s.props.router.params.userId;(e||(e=s.props.authorizedUserId))&&(s.props.getUserProfile(e),s.props.getUserStatus(e))},s}return(0,i.Z)(t,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.router.params.userId!==s.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){var s=this.props.router.params.userId;return s||(s=this.props.authorizedUserId)?(0,h.jsx)("div",{children:(0,h.jsx)(U,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,updatePhoto:this.props.updatePhoto}))}):(0,h.jsx)(C.Fg,{to:"/login"})}}]),t}(l.Component),B=(0,D.qC)((0,y.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,userPhoto:s.profilePage.userPhoto,authorizedUserId:s.authUserBro.data.id,isAuth:s.authUserBro.isAuth}}),{getUserProfile:m.om,getUserStatus:m.xD,updateStatus:m.NN,updatePhoto:m.h8}),(function(s){return function(e){var t=(0,C.TH)(),o=(0,C.s0)(),i=(0,C.UO)();return(0,h.jsx)(s,(0,r.Z)((0,r.Z)({},e),{},{router:{location:t,navigate:o,params:i}}))}}))(J)}}]);
//# sourceMappingURL=698.cbbfc749.chunk.js.map